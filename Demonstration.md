# Using the TopicContribs module from toolforge

This guide seeks to make it easy for first-timers to use the TopicContribs module. It does this by demonstrating the use of the TopicContribs module in its most basic form, that is with only the necessary flags (<--dumps> and <--out>) and proceeds to implement more advanced analysis as run parameters are gradually added.

This guide uses Toolforge which is maintained by wikimedia foundation, because using it saves the user the stress of downloading the mediawiki dumps first. It is intended to be as simplified as possible, hence it explains the preliminary steps (such as setting up Toolforge) in depth.

## Login to toolforge via ssh
Login to [toolforge](https://wikitech-static.wikimedia.org/wiki/Help:Toolforge/My_first_Pywikibot_tool#Log_into_Toolforge_with_ssh) by typing and running the following command on your terminal.
`ssh -i ~/.ssh/id_rsa <unix shell username>@login.toolforge.org`
where <unix shell username> is your username on toolforge.

## Set up the TopicContribs module
Clone it as specified in the README.md file and then run
`python3 setup.py install --user` to [install it](https://stackoverflow.com/questions/43747034/python-setup-py-install-without-sudo). If the user flag is not added, and error will be raised.

## A basic demonstration
For a quick test run of the topics module, run `cd /public/dumps/public/enwiki/20201001`
This changes the directory to the dump of the 1st of October 2020. If the directory content is viewed using the `ls` command, it is noticed that a number of file names are coloured red. These are the gzipped files and they will be used as arguments for the `dumps` parameter of `topics.cmdline`.

For this analysis, we chose to use the English wikipedia dump of October 1st, 2020 and the 9th history stub. You can choose whichever you want for your own analysis. 
Then run, `python3 -m topics.cmdline --dumps=enwiki-20201001-stub-meta-history9.xml.gz --out=/demo_results --verbose`
Where demo-results is a folder that I created in home to store the output files of the command above. You might receive an error that says PermissionError: [Errno 13] Permission denied: '/demo_results'. This error means that the default permission setting of the demo_results directory which was created has to be changed in order to give you write access to the folder.
P.S You need write access so that the files which are generated by your command can be stored in the folder.



